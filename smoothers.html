<!DOCTYPE HTML>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>One Dimensional Smoothers Demonstration</title>
    <link href="css/smoothers.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="d3/d3.v3.js"></script>
    <script type="text/javascript" src="js/canvas.js"></script>
    <script type="text/javascript" src="js/smoothers.js"></script>
  </head>

  <body>

    <div id=title class=title>
      <h1>Fun With 1D Smoothers</h1>
    </div>

    <div id=instructions class=instructions>
      <p class=p-instructions>
        This app demos various 1d scatterplot smoothers in real time.  
      </p>
      <p class=instructions>
        Click on the canvas to add points to the scatterplot.  Use 
        the interface below the canvas to select the smoothing algorithm.
      <p class=instructions>
        Once you've added three points, the smoother will kick in 
        automatically.
      </p>
    </div>

    <div id=graph class=graph></div>

    <br>

    <div id=interface class=interface>
      <label for=smooth-type>Smoothing Type:</label>
      <select name=smooth-type id=smooth-type>
        <option value=smooth-type-none>None</option>
        <option value=smooth-type-mean>Mean</option>
        <option value=smooth-type-runmean>Running Mean</option>
        <option value=smooth-type-gaussk>Gaussian Kernel</option>
        <option value=smooth-type-linreg>Linear Regression</option>
        <option value=smooth-type-runline>Running Line </option>
        <option value=smooth-type-loess>Locally Weighted Running Line</option>
      </select>
      <button id=clear type=button>Clear</button>
    </div>

  </body>

  <script type="text/javascript">

    C = new Canvas("div#graph",
                  {height: 400, width: 600},
                  {top: 25, bottom: 25, left:25, right: 25}
            );
    d3.select("button#clear").on("click", function() {
      C.clear();
    });
    d3.select("select#smooth-type").on("change", function() {
      var e = document.getElementById("smooth-type");
      console.log(e.options[e.selectedIndex].value);
      C.smoother = smoothers[e.options[e.selectedIndex].value];
      C.smooth();
    })


  </script>

</html>
